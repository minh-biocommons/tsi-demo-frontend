<header>
  <nav class="sticky top-0">
    <div class="bg-teal-100 px-2 sm:px-6 py-3 top-nav">
      <div class="flex items-center justify-end">
        <div
          *ngIf="!isLoggedIn"
          class="text-sm font-light text-white w-screen sm:w-72 mt-0.5 flex justify-around sm:justify-between"
        >
          <a href="" class="hover:opacity-90 ease-in-out duration-200">About</a>
          <a href="" class="hover:opacity-90 ease-in-out duration-200"
            >Contact</a
          >
          <div>
            <a
              href="https://directus.test.biocommons.org.au/backend/auth/login/cilogon?redirect=http://localhost:4200/login"
              class="hover:opacity-90 ease-in-out duration-200"
              >Sign in</a
            >&ensp;/
            <a
              routerLink="/signup"
              class="ml-1 hover:opacity-90 ease-in-out duration-200"
              >Register</a
            >
          </div>
        </div>
        <div *ngIf="isLoggedIn" class="relative ml-4">
          <div class="text-sm font-light text-gray-900">
            Signed in as <span class="font-medium">{{ currentUser }}</span>
            <button
              type="button"
              class="ml-4"
              (click)="toggleUserMenu()"
              #userMenuButton
            >
              <fa-icon [icon]="faCircleUser" size="2xl" #buttonIcon></fa-icon>
            </button>
          </div>

          <div
            *ngIf="userMenuOpen"
            class="absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
            role="menu"
            aria-orientation="vertical"
            aria-labelledby="user-menu-button"
            tabindex="-1"
            #menu
          >
            <a
              href="#"
              class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
              (click)="logOut()"
              role="menuitem"
              tabindex="-1"
              id="user-menu-item-2"
              >Sign out</a
            >
          </div>
        </div>
      </div>
    </div>
    <div class="w-full py-4 flex flex-row bot-nav">
      <div
        class="flex"
        [ngClass]="{
          'w-14': isSidebarCollapsed && isLoggedIn,
          'w-64': !isSidebarCollapsed && isLoggedIn
        }"
      >
        <div
          class="flex justify-center items-center pl-6 sm:pl-8"
          [class.hidden]="isSidebarCollapsed && isLoggedIn"
        >
          <div class="flex flex-shrink-0 items-center">
            <a routerLink="/">
              <img class="h-4 sm:h-8 w-auto" src="assets/Group 136.svg" />
            </a>
          </div>

          <div
            class="ml-6 sm:text-2xl font-normal tracking-tight text-gray-900"
          >
            Service Hub&ensp;\&ensp;<span class="font-semibold"
              >Threatened Species Initiative</span
            >
          </div>
        </div>
      </div>

      <div class="flex grow justify-between items-center pr-8">
        <div>
          <div
            *ngIf="isLoggedIn"
            class="ml-8 text-2xl font-medium tracking-tight text-gray-900"
          >
            Threatened Species Initiative Online Community
          </div>
        </div>
        <div class="flex flex-shrink-0 items-center mr-6 sm:mr-0">
          <img
            class="h-10 sm:h-20 w-auto"
            src="https://threatenedspeciesinitiative.com/wp-content/uploads/2020/07/TSIBPA_Logo_WEB-01.png"
            alt="TSI Logo"
          />
        </div>
      </div>
    </div>
  </nav>
</header>
